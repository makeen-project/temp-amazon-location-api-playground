/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: MIT-0
 */

.map-container {
	position: relative;
	width: 100%;
	height: 100%;
	overflow: hidden;

	&.dark-mode {
		--map-background: var(--amplify-colors-background-primary);
		--map-text: var(--amplify-colors-font-primary);
		--map-border: var(--amplify-colors-border-primary);
	}

	&.light-mode {
		--map-background: var(--amplify-colors-background-primary);
		--map-text: var(--amplify-colors-font-primary);
		--map-border: var(--amplify-colors-border-primary);
	}

	// Tile grid overlay - shows on top of loaded tiles
	.tile-grid-overlay {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-image:
			linear-gradient(rgba(0, 0, 0, 0.1) 1px, transparent 1px),
			linear-gradient(90deg, rgba(0, 0, 0, 0.1) 1px, transparent 1px);
		background-size: 36px 36px; /* Standard tile size */
		opacity: 0.3;
		pointer-events: none;
		z-index: 2;
		animation: gridPulse 2s ease-in-out infinite;
	}

	// Grid pulse animation
	@keyframes gridPulse {
		0%, 100% { opacity: 0.2; }
		50% { opacity: 0.6; }
	}

	:global {
		.maplibregl-ctrl-group {
			background-color: var(--map-background);
			border: 1px solid var(--map-border);
			border-radius: 4px;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

			button {
				width: 30px;
				height: 30px;
				display: flex;
				justify-content: center;
				align-items: center;
				background-color: transparent;
				border: none;
				cursor: pointer;
				color: var(--map-text);

				&:hover {
					background-color: var(--amplify-colors-background-secondary);
				}

				&:not(:last-child) {
					border-bottom: 1px solid var(--map-border);
				}
			}
		}

		.maplibregl-ctrl-attrib {
			background-color: var(--map-background);
			border: 1px solid var(--map-border);
			border-radius: 4px;
			padding: 4px 8px;
			font-size: 12px;
			line-height: 1.2;
			color: var(--map-text);
			opacity: 0.8;

			a {
				color: var(--map-text);
				text-decoration: none;

				&:hover {
					text-decoration: underline;
				}
			}
		}
	}

	.fullscreen-button {
		&:hover {
			background-color: #f5f5f5 !important;
		}
	}
}

/* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved. */

.maplibregl-ctrl-bottom-right {
	details {
		right: 1.23rem !important;
		bottom: 0.25rem !important;
		font-size: 0.77rem !important;
	}

	/* Geolocate control */
	> div:nth-child(2) {
		justify-content: center !important;
		align-items: center !important;
		width: 2.46rem !important;
		height: 2.46rem !important;
		border-radius: 0.62rem;
		position: absolute !important;

		.maplibregl-ctrl-geolocate {
			.maplibregl-ctrl-icon {
				background-image: url("@api-playground/assets/svgs/icon-locate-me.svg") !important;

				@media only screen and (min-width: 1024px) {
					&:hover {
						background-image: url("@api-playground/assets/svgs/icon-locate-me-filled.svg") !important;
					}
				}
			}
		}
	}

	/* Navigation control */
	> div:nth-child(3) {
		display: flex !important;
		flex-direction: column !important;
		justify-content: space-around !important;
		align-items: center !important;
		width: 2.46rem !important;
		height: 4.92rem !important;
		border-radius: 0.62rem !important;
		position: absolute !important;
		right: 1.19rem !important;
		bottom: 2.75rem !important;

		.maplibregl-ctrl-zoom-in {
			width: 100% !important;

			.maplibregl-ctrl-icon {
				background-image: url("@api-playground/assets/svgs/icon-zoom-plus.svg") !important;

				@media only screen and (min-width: 1024px) {
					&:hover {
						background-image: url("@api-playground/assets/svgs/icon-zoom-plus-filled.svg") !important;
					}
				}
			}
		}

		.maplibregl-ctrl-zoom-out {
			width: 100% !important;

			&:hover {
				border-radius: 0rem 0rem 0.62rem 0.62rem !important;
			}

			.maplibregl-ctrl-icon {
				background-image: url("@api-playground/assets/svgs/icon-minus.svg") !important;

				@media only screen and (min-width: 1024px) {
					&:hover {
						background-image: url("@api-playground/assets/svgs/icon-minus-filled.svg") !important;
					}
				}
			}
		}
	}
}

.maplibregl-ctrl button:not(:disabled):hover {
	background-color: var(--ghost-white) !important;
	box-shadow: none !important;
	border-radius: 0.62rem !important;
}

.maplibregl-ctrl button:disabled {
	cursor: pointer !important;
	opacity: 1 !important;
}

.maplibregl-ctrl-group:not(:empty) {
	box-shadow: 0px 0px 10px rgb(0 0 0 / 20%) !important;
}

.maplibregl-user-location-dot {
	background-color: var(--primary-color) !important;

	&:before {
		background-color: #a9c6c2 !important;
	}
}

.map-styles-button-container {
	justify-content: center;
	align-items: center;
	width: 2.46rem;
	height: 2.46rem;
	position: absolute;
	background-color: var(--white-color);
	box-shadow: 0px 0px 10px rgb(0 0 0 / 20%);
	cursor: pointer;
	z-index: 3;
	border-top-left-radius: 6px;
	border-top-right-radius: 6px;
}

.map-styles-button > svg {
	fill: var(--grey-contrast-color);
	width: 1.15rem;
	height: 1.15rem;
}

.map-styles-button {
	cursor: pointer;
	justify-content: center;
	align-items: center;
}

.map-styles-button {
	border-top-left-radius: 0px;
	border-top-right-radius: 0px;
	border-bottom-left-radius: 6px;
	border-bottom-right-radius: 6px;
}

.logo-stroke-container {
	gap: 0;
	position: absolute;
	bottom: 1.54rem;
	left: 1.54rem;
	width: 11.54rem;
	height: 2.08rem;
	z-index: 3;

	img {
		width: 100%;
		height: 100%;
	}

	svg {
		width: 100%;
		height: 100%;
	}

	&.logo-stroke-container-tablet {
		left: 26.54rem !important;

		@media screen and (max-width: 556px) {
			display: none;
		}
	}
}
